<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phoenix V2 Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');
        body { font-family: 'Orbitron', sans-serif; background-color: #0f172a; color: #f8fafc; }
        .glass { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); }
    </style>
</head>
<body class="p-4">
    <header class="mb-8 text-center">
        <h1 class="text-3xl font-bold text-orange-500 tracking-tighter">PROJECT PHOENIX V2</h1>
        <p id="last-update" class="text-xs text-slate-400 mt-2">Connecting to fortress...</p>
    </header>

    <div id="dashboard" class="grid grid-cols-1 md:grid-cols-2 gap-4">
        </div>

    <script>
        async function loadData() {
            try {
                const res = await fetch('data.json?t=' + Date.now());
                const data = await res.json();
                
                document.getElementById('last-update').innerText = "LAST SCOUT: " + data.last_update;
                
                const container = document.getElementById('dashboard');
                container.innerHTML = '';

                data.coins.forEach(coin => {
                    const card = document.createElement('div');
                    card.className = 'glass p-5 rounded-2xl flex justify-between items-center';
                    const color = coin.rate > 0 ? 'text-emerald-400' : 'text-rose-400';
                    const emoji = coin.rate > 0 ? '▲' : '▼';

                    card.innerHTML = `
                        <div>
                            <div class="text-sm text-slate-400">${coin.name}</div>
                            <div class="text-xl font-bold">${coin.price.toLocaleString()} <span class="text-xs font-normal">KRW</span></div>
                        </div>
                        <div class="text-right">
                            <div class="${color} font-bold text-lg">${emoji} ${Math.abs(coin.rate).toFixed(2)}%</div>
                        </div>
                    `;
                    container.appendChild(card);
                });
            } catch (e) {
                document.getElementById('last-update').innerText = "Waiting for initial data...";
            }
        }
        loadData();
        setInterval(loadData, 60000); // 1분마다 자동 갱신
    </script>
</body>
</html>